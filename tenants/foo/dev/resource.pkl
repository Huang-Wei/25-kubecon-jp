import ".../schema/tenant/ResourceConfig.pkl"
import ".../schema/tenant/SelectorConfig.pkl"

hidden selector = new Listing<SelectorConfig.Requirment> {
  new {
    key = "env"
    operator = "In"
    values {
      "dev"
    }
  }
}

kubernetes = new ResourceConfig.Kubernetes {
  namespaces = new {
    "foo1"
    "foo2"
  }
  selector = module.selector
}

buckets = new Listing<ResourceConfig.Bucket> {
  new {
    name = "foo"
    region = "us-west-2"
    selector = (module.selector) {
      new {
        key = "cloudProvider"
        operator = "In"
        values {
          "aws"
        }
      }
    }
  }
}
